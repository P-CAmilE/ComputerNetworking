# 第六章练习题

## P8

**a.** 在当有$N$个活跃节点时，时隙ALOHA的效率为$P = Np(1-p)^{N-1}$，考虑$N$的取值，数字$N \in N^{*}$即取值范围为所有正整数：

1. 当$N$为1时，效率$P = p(1-p)^{0} = p$，所以当只有一个活跃节点时，$p$取1时效率最大。
2. 当$N \geqslant 2且 N \in N^{*}$时，效率$P = Np(1-p)^{N-1}$。$P$式对变量$p$求导为$P^{'} = N(1-Np)(1-p)^{N-2}$，其中当$p > 0$时，在$p = 1/N时P^{'} = 0$，在$0 < p < 1/N时P^{'} > 0$，在$1/N < p \leqslant 1时P^{'} < 0$，在$0 < p \leqslant 1$范围内$P$函数先增后减，在$p=1/N$时取得最大值$P_{max} = (1-1/N)^{N-1}$；其中当$p=0$，$P=0$。所以考虑两种情况在$p=1/N$时效率$P$取得最大值。

**b.** 在$p=1/N$时，效率$P = (1-1/N)^{N-1} = (1-1/N)(1-1/N)^{N}$，其中$N \rightarrow \infty$，有$\lim\limits_{N \to \infty} (1-1/N) = 1，\lim\limits_{N \to \infty}(1-1/N) = 1/e$，带入原式得时隙ALOHA效率$P=1/e$。

## P10

**a.** 在节点A与节点B都使用时隙ALOHA协议来竞争信道，对于节点A而言，任意时隙为成功时隙的概率$P_{A} = p_{A}(1-p_{B})$。

而对于节点B而言，任意时隙为成功时隙的概率为$P_{B}=p_{B}(1-p_{A})$，所以具有A和B两个节点的总体效率为$P_{总} = p_{p_{A}+p_{B}-2p_{A}p_{B}}$。

**b.** 如果$p_{A}=2p_{B}$，节点A的平均吞吐量并不是节点B的两倍（注意中文题干中翻译有误，应该为A是B的两倍不是A比B大两倍）。因为对于A的平均吞吐量为$P_{A} = p_{A}(1-p_{B})=2p_{B}(1-p_{B})=2p_{B}-2p_{B}^{2}$，而B的平均吞吐量为$P_{B}=p_{B}(1-p_{A})=p_{B}(1-2p_{B})=p_{B}-2p_{B}^{2}$，先然$P_{A}$并不是$P_{B}$的两倍。

要使$P_{A}=2P_{B}$，即$p_{A}(1-p_{B})=2p_{B}(1-p_{A})$，需$p_{A}=\frac{2p_{B}}{1+p_{B}}$。

**c.** A的平均吞吐量为$P_{A}=2p(1-p)^{N-1}$，其他任何节点平均吞吐量为$P=p(1-2p)(1-p)^{N-2}$。

## P29

对于题中要求，设置路由器R6和R5与R4连接的链路端口都为0，R5、R6和R4路由器的MPLS表为：

R6：

| 入标签 | 出标签 | 目的地 | 出路口 |
| :----: | :----: | :----: | :----: |
|        |   7    |   A    |   0    |

R5：

| 入标签 | 出标签 | 目的地 | 出路口 |
| :----: | :----: | :----: | :----: |
|        |   5    |   A    |   0    |

R4：

| 入标签 | 出标签 | 目的地 | 出路口 |
| :----: | :----: | :----: | :----: |
|   7    |   10   |   A    |   0    |
|        |   12   |   D    |   0    |
|   5    |   8    |   A    |   1    |

