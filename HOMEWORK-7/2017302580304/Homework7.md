# 第四章练习题

## P3

对于内存交换方式的路由器，由于经过共享系统总线一次只能执行一个内存读写，所以处理转发一个分组的同时其他分组需要等待，故而分组的最大排队时延为$(n-1)D$。

对于总线交换方式的路由器，由于一次只有一个分组能够跨越总线，所以处理转发一个分组的同时其他分组需要等待，故而分组的最大排队时延为$(n-1)D$。

对于纵横交换方式的路由器，由于纵横式交换机是非阻塞的，即只要不同输入端口来的分组不是转发到同一输出端口，就不会进行等待，因此在相同时刻n个分组到达n个不同输出端口时，分组的最大时延为0。

## P5

**a.** 使用最长前缀匹配规则，该转发表为：

| 前缀匹配          | 链路接口 |
| :---------------- | :------- |
| 11100000 00       | 0        |
| 11100000 01000000 | 1        |
| 1110000           | 2        |
| 11100001 1        | 3        |
| 其他              | 3        |

**b.** 11001000 10010001 01010001 01010101 首先我们依次进行匹配，发现在第三位就与前四个前缀匹配不同，所以属于其他类的前缀匹配，传输到链路接口3。

11100001 01000000 11000011 00111100 我们依次进行匹配，发现在第八位时排除了前两个前缀匹配，然后在第九位时与第四个前缀匹配不同，所以其匹配的前缀为1110000，传输到链路接口2。

111000001 10000000 00010001 01110111 我们依次进行匹配，发现前九位符合第四个前缀匹配11100001 1，且为最长匹配，传输到链路接口3。

## P6

对于如图所示的转发表：

| 前缀匹配 | 链路接口 |
| :------: | :------: |
|    00    |    0     |
|   010    |    1     |
|   011    |    2     |
|    10    |    2     |
|    11    |    3     |

四个接口的目的主机地址范围与地址数为：

| 接口 |     地址范围      | 地址数目 |
| :--: | :---------------: | :------: |
|  0   | 00000000~00111111 |    64    |
|  1   | 01000000~01011111 |    32    |
|  2   | 01100000~10111111 |    96    |
|  3   | 11000000~11111111 |    64    |

